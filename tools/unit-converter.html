<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Converter - Ultimate Student Toolkit</title>
    <meta name="description" content="Convert between different units of measurement with our free Unit Converter tool. Perfect for students, professionals, and everyday calculations.">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/ads.css">
    <!-- Google AdSense -->
    <script async src="https://pagead.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script>
    <script src="../js/adsense.js"></script>
</head>
<body class="bg-gradient-to-r from-green-100 via-teal-100 to-cyan-100 min-h-screen">
    <!-- 3D Animation Container -->
    <div id="animation-container" class="fixed top-0 left-0 w-full h-full pointer-events-none z-0"></div>

    <!-- Header -->
    <header class="relative z-10 bg-white bg-opacity-80 shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center mb-4 md:mb-0">
                    <div id="logo-container" class="w-16 h-16 mr-3 relative animate-float"></div>
                    <a href="../index.html" class="text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 via-pink-500 to-indigo-600">Ultimate Student Toolkit</a>
                </div>
                <nav class="flex space-x-1 md:space-x-4">
                    <a href="../index.html" class="px-3 py-2 text-sm md:text-base rounded-lg bg-white text-gray-700 hover:bg-gray-100 transition duration-300">Home</a>
                    <a href="../about.html" class="px-3 py-2 text-sm md:text-base rounded-lg bg-white text-gray-700 hover:bg-gray-100 transition duration-300">About</a>
                    <a href="../contact.html" class="px-3 py-2 text-sm md:text-base rounded-lg bg-white text-gray-700 hover:bg-gray-100 transition duration-300">Contact</a>
                    <a href="../privacy.html" class="px-3 py-2 text-sm md:text-base rounded-lg bg-white text-gray-700 hover:bg-gray-100 transition duration-300">Privacy Policy</a>
                </nav>
            </div>
        </div>
    </header>
    <div class="ad-container">
        <script type="text/javascript">
            atOptions = {
                'key' : '157b2f31a1ed20130dd24b588b5d5be4',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/157b2f31a1ed20130dd24b588b5d5be4/invoke.js"></script>
    </div>

    <!-- Tool Content -->
    <section class="relative z-10 py-12">
        <div class="container mx-auto px-4">
            <div class="tool-container animate-fade-in">
                <div class="tool-header text-center">
                    <h1 class="text-3xl md:text-4xl font-bold mb-4 gradient-text">Unit Converter</h1>
                    <p class="text-lg text-gray-600">Convert between different units of measurement quickly and accurately</p>
                </div>
                
                <!-- Unit Converter App -->
                <div class="my-8">
                    <div class="bg-white p-6 rounded-xl shadow-md">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <!-- Conversion Type Selection -->
                            <div>
                                <h3 class="text-xl font-semibold mb-4 text-gray-800">Conversion Type</h3>
                                <div class="mb-6">
                                    <select id="conversion-type" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                                        <option value="length">Length</option>
                                        <option value="weight">Weight/Mass</option>
                                        <option value="temperature">Temperature</option>
                                        <option value="area">Area</option>
                                        <option value="volume">Volume</option>
                                        <option value="time">Time</option>
                                        <option value="speed">Speed</option>
                                        <option value="pressure">Pressure</option>
                                        <option value="energy">Energy</option>
                                        <option value="data">Digital Storage</option>
                                    </select>
                                </div>
                                
                                <!-- Input Section -->
                                <h3 class="text-xl font-semibold mb-4 text-gray-800">From</h3>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                    <div class="md:col-span-2">
                                        <input type="number" id="input-value" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="Enter value">
                                    </div>
                                    <div>
                                        <select id="input-unit" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                                            <!-- Units will be populated by JavaScript -->
                                        </select>
                                    </div>
                                </div>
                                
                                <!-- Output Section -->
                                <h3 class="text-xl font-semibold mb-4 text-gray-800">To</h3>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                    <div class="md:col-span-2">
                                        <input type="number" id="output-value" class="w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50" readonly>
                                    </div>
                                    <div>
                                        <select id="output-unit" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                                            <!-- Units will be populated by JavaScript -->
                                        </select>
                                    </div>
                                </div>
                                
                                <!-- Convert Button -->
                                <button id="convert-btn" class="w-full px-4 py-3 bg-gradient-to-r from-green-500 to-teal-600 text-white rounded-md hover:from-green-600 hover:to-teal-700 transition duration-300 interactive-element">
                                    <i class="fas fa-exchange-alt mr-2"></i>Convert
                                </button>
                                
                                <!-- Swap Button -->
                                <button id="swap-btn" class="w-full mt-3 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition duration-300">
                                    <i class="fas fa-sync-alt mr-2"></i>Swap Units
                                </button>
                            </div>
                            
                            <!-- Formula and Common Conversions -->
                            <div>
                                <div class="bg-gray-50 p-4 rounded-lg mb-6">
                                    <h3 class="text-xl font-semibold mb-4 text-gray-800">Conversion Formula</h3>
                                    <div id="formula-display" class="p-3 bg-white rounded-md text-gray-700 font-mono text-sm mb-2">1 meter = 100 centimeters</div>
                                    <p id="formula-explanation" class="text-sm text-gray-600">To convert from meters to centimeters, multiply the length value by 100.</p>
                                </div>
                                
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h3 class="text-xl font-semibold mb-4 text-gray-800">Common Conversions</h3>
                                    <div id="common-conversions" class="space-y-2">
                                        <!-- Common conversions will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Conversion History -->
                    <div class="bg-white p-6 rounded-xl shadow-md mt-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xl font-semibold text-gray-800">Conversion History</h3>
                            <button id="clear-history" class="text-sm text-red-600 hover:text-red-800 transition duration-300">
                                <i class="fas fa-trash-alt mr-1"></i>Clear History
                            </button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Original Value</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Converted Value</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Time</th>
                                    </tr>
                                </thead>
                                <tbody id="history-table" class="bg-white divide-y divide-gray-200">
                                    <!-- History entries will be populated by JavaScript -->
                                    <tr class="text-gray-500 text-sm italic">
                                        <td colspan="4" class="px-6 py-4 text-center">No conversion history yet</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Tips Section -->
                    <div class="bg-white p-6 rounded-xl shadow-md mt-6">
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">Unit Conversion Tips</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-teal-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-teal-800 mb-2">Academic Applications</h4>
                                <ul class="list-disc list-inside text-gray-700 space-y-1">
                                    <li>Convert units in physics and chemistry problems</li>
                                    <li>Standardize measurements for lab reports</li>
                                    <li>Convert between metric and imperial units for international projects</li>
                                    <li>Verify calculations by converting to different units</li>
                                </ul>
                            </div>
                            <div class="bg-cyan-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-cyan-800 mb-2">Everyday Uses</h4>
                                <ul class="list-disc list-inside text-gray-700 space-y-1">
                                    <li>Convert cooking measurements between different systems</li>
                                    <li>Calculate fuel efficiency in different units (MPG, L/100km)</li>
                                    <li>Convert temperatures when following international recipes</li>
                                    <li>Convert file sizes between bytes, kilobytes, megabytes, etc.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Banner Ad  -->
    <div class="container mx-auto px-4 py-4">
        <div class="ad-container footer-ad">
            <script type="text/javascript">
                atOptions = {
                    'key' : '4433a9e10b3c2af431ea6a27430bb731',
                    'format' : 'iframe',
                    'height' : 250,
                    'width' : 300,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/4433a9e10b3c2af431ea6a27430bb731/invoke.js"></script>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-white bg-opacity-90 py-8 relative z-10">
        <div class="container mx-auto px-4">
            <script async="async" data-cfasync="false" src="//pl26657960.profitableratecpm.com/4aef178ddc5889e79b8f14eea899f0fb/invoke.js"></script>
            <div id="container-4aef178ddc5889e79b8f14eea899f0fb"></div>
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p class="text-gray-600">&copy; <span id="current-year">2023</span> Ultimate Student Toolkit. All rights reserved.</p>
                </div>
                <div class="flex space-x-4">
                    <a href="../about.html" class="text-gray-600 hover:text-purple-600 transition duration-300">About</a>
                    <a href="../contact.html" class="text-gray-600 hover:text-purple-600 transition duration-300">Contact</a>
                    <a href="../privacy.html" class="text-gray-600 hover:text-purple-600 transition duration-300">Privacy Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script type='text/javascript' src='//pl26657918.profitableratecpm.com/e1/a2/96/e1a2967217d7d46610707a5a2639ec8c.js'></script>
    <script src="../js/animation.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // Initialize the 3D animation
            if (typeof init === 'function') {
                init();  // Call the init function from animation.js
            }
            
            // DOM Elements
            const conversionType = document.getElementById('conversion-type');
            const inputValue = document.getElementById('input-value');
            const inputUnit = document.getElementById('input-unit');
            const outputValue = document.getElementById('output-value');
            const outputUnit = document.getElementById('output-unit');
            const convertBtn = document.getElementById('convert-btn');
            const swapBtn = document.getElementById('swap-btn');
            const formulaDisplay = document.getElementById('formula-display');
            const formulaExplanation = document.getElementById('formula-explanation');
            const commonConversions = document.getElementById('common-conversions');
            const historyTable = document.getElementById('history-table');
            const clearHistoryBtn = document.getElementById('clear-history');
            
            // Conversion units by type
            const units = {
                length: [
                    { value: 'km', label: 'Kilometers (km)' },
                    { value: 'm', label: 'Meters (m)' },
                    { value: 'cm', label: 'Centimeters (cm)' },
                    { value: 'mm', label: 'Millimeters (mm)' },
                    { value: 'mi', label: 'Miles (mi)' },
                    { value: 'yd', label: 'Yards (yd)' },
                    { value: 'ft', label: 'Feet (ft)' },
                    { value: 'in', label: 'Inches (in)' },
                    { value: 'nm', label: 'Nanometers (nm)' },
                    { value: 'µm', label: 'Micrometers (µm)' }
                ],
                weight: [
                    { value: 'kg', label: 'Kilograms (kg)' },
                    { value: 'g', label: 'Grams (g)' },
                    { value: 'mg', label: 'Milligrams (mg)' },
                    { value: 'lb', label: 'Pounds (lb)' },
                    { value: 'oz', label: 'Ounces (oz)' },
                    { value: 't', label: 'Metric Tons (t)' },
                    { value: 'st', label: 'Stone (st)' },
                    { value: 'µg', label: 'Micrograms (µg)' }
                ],
                temperature: [
                    { value: 'c', label: 'Celsius (°C)' },
                    { value: 'f', label: 'Fahrenheit (°F)' },
                    { value: 'k', label: 'Kelvin (K)' }
                ],
                area: [
                    { value: 'km2', label: 'Square Kilometers (km²)' },
                    { value: 'm2', label: 'Square Meters (m²)' },
                    { value: 'cm2', label: 'Square Centimeters (cm²)' },
                    { value: 'mm2', label: 'Square Millimeters (mm²)' },
                    { value: 'ha', label: 'Hectares (ha)' },
                    { value: 'mi2', label: 'Square Miles (mi²)' },
                    { value: 'yd2', label: 'Square Yards (yd²)' },
                    { value: 'ft2', label: 'Square Feet (ft²)' },
                    { value: 'in2', label: 'Square Inches (in²)' },
                    { value: 'ac', label: 'Acres (ac)' }
                ],
                volume: [
                    { value: 'm3', label: 'Cubic Meters (m³)' },
                    { value: 'L', label: 'Liters (L)' },
                    { value: 'mL', label: 'Milliliters (mL)' },
                    { value: 'gal', label: 'Gallons (US) (gal)' },
                    { value: 'qt', label: 'Quarts (US) (qt)' },
                    { value: 'pt', label: 'Pints (US) (pt)' },
                    { value: 'c', label: 'Cups (US) (c)' },
                    { value: 'fl_oz', label: 'Fluid Ounces (US) (fl oz)' },
                    { value: 'tbsp', label: 'Tablespoons (US) (tbsp)' },
                    { value: 'tsp', label: 'Teaspoons (US) (tsp)' },
                    { value: 'cm3', label: 'Cubic Centimeters (cm³)' },
                    { value: 'mm3', label: 'Cubic Millimeters (mm³)' },
                    { value: 'ft3', label: 'Cubic Feet (ft³)' },
                    { value: 'in3', label: 'Cubic Inches (in³)' }
                ],
                time: [
                    { value: 'yr', label: 'Years (yr)' },
                    { value: 'mo', label: 'Months (mo)' },
                    { value: 'wk', label: 'Weeks (wk)' },
                    { value: 'd', label: 'Days (d)' },
                    { value: 'h', label: 'Hours (h)' },
                    { value: 'min', label: 'Minutes (min)' },
                    { value: 's', label: 'Seconds (s)' },
                    { value: 'ms', label: 'Milliseconds (ms)' },
                    { value: 'µs', label: 'Microseconds (µs)' },
                    { value: 'ns', label: 'Nanoseconds (ns)' }
                ],
                speed: [
                    { value: 'mps', label: 'Meters per Second (m/s)' },
                    { value: 'kph', label: 'Kilometers per Hour (km/h)' },
                    { value: 'mph', label: 'Miles per Hour (mph)' },
                    { value: 'fps', label: 'Feet per Second (ft/s)' },
                    { value: 'kn', label: 'Knots (kn)' }
                ],
                pressure: [
                    { value: 'pa', label: 'Pascal (Pa)' },
                    { value: 'kpa', label: 'Kilopascal (kPa)' },
                    { value: 'mpa', label: 'Megapascal (MPa)' },
                    { value: 'bar', label: 'Bar' },
                    { value: 'atm', label: 'Atmosphere (atm)' },
                    { value: 'mmhg', label: 'Millimeters of Mercury (mmHg)' },
                    { value: 'psi', label: 'Pounds per Square Inch (psi)' }
                ],
                energy: [
                    { value: 'j', label: 'Joules (J)' },
                    { value: 'kj', label: 'Kilojoules (kJ)' },
                    { value: 'cal', label: 'Calories (cal)' },
                    { value: 'kcal', label: 'Kilocalories (kcal)' },
                    { value: 'wh', label: 'Watt-hours (Wh)' },
                    { value: 'kwh', label: 'Kilowatt-hours (kWh)' },
                    { value: 'ev', label: 'Electron Volts (eV)' },
                    { value: 'btu', label: 'British Thermal Units (BTU)' }
                ],
                data: [
                    { value: 'b', label: 'Bytes (B)' },
                    { value: 'kb', label: 'Kilobytes (KB)' },
                    { value: 'mb', label: 'Megabytes (MB)' },
                    { value: 'gb', label: 'Gigabytes (GB)' },
                    { value: 'tb', label: 'Terabytes (TB)' },
                    { value: 'pb', label: 'Petabytes (PB)' },
                    { value: 'bit', label: 'Bits' },
                    { value: 'kbit', label: 'Kilobits (Kbit)' },
                    { value: 'mbit', label: 'Megabits (Mbit)' },
                    { value: 'gbit', label: 'Gigabits (Gbit)' }
                ]
            };
            
            // Conversion factors (to base unit)
            const conversionFactors = {
                // Length (base: meters)
                length: {
                    km: 1000,
                    m: 1,
                    cm: 0.01,
                    mm: 0.001,
                    mi: 1609.344,
                    yd: 0.9144,
                    ft: 0.3048,
                    in: 0.0254,
                    nm: 1e-9,
                    'µm': 1e-6
                },
                // Weight (base: grams)
                weight: {
                    kg: 1000,
                    g: 1,
                    mg: 0.001,
                    lb: 453.59237,
                    oz: 28.349523125,
                    t: 1000000,
                    st: 6350.29318,
                    'µg': 1e-6
                },
                // Area (base: square meters)
                area: {
                    km2: 1000000,
                    m2: 1,
                    cm2: 0.0001,
                    mm2: 0.000001,
                    ha: 10000,
                    mi2: 2589988.11,
                    yd2: 0.83612736,
                    ft2: 0.09290304,
                    in2: 0.00064516,
                    ac: 4046.8564224
                },
                // Volume (base: cubic meters)
                volume: {
                    m3: 1,
                    L: 0.001,
                    mL: 0.000001,
                    gal: 0.00378541,
                    qt: 0.000946353,
                    pt: 0.000473176,
                    c: 0.000236588,
                    fl_oz: 0.0000295735,
                    tbsp: 0.0000147868,
                    tsp: 0.00000492892,
                    cm3: 0.000001,
                    mm3: 1e-9,
                    ft3: 0.0283168,
                    in3: 0.0000163871
                },
                // Time (base: seconds)
                time: {
                    yr: 31536000,
                    mo: 2592000,
                    wk: 604800,
                    d: 86400,
                    h: 3600,
                    min: 60,
                    s: 1,
                    ms: 0.001,
                    'µs': 0.000001,
                    ns: 1e-9
                },
                // Speed (base: meters per second)
                speed: {
                    mps: 1,
                    kph: 0.277778,
                    mph: 0.44704,
                    fps: 0.3048,
                    kn: 0.514444
                },
                // Pressure (base: Pascal)
                pressure: {
                    pa: 1,
                    kpa: 1000,
                    mpa: 1000000,
                    bar: 100000,
                    atm: 101325,
                    mmhg: 133.322,
                    psi: 6894.76
                },
                // Energy (base: Joules)
                energy: {
                    j: 1,
                    kj: 1000,
                    cal: 4.184,
                    kcal: 4184,
                    wh: 3600,
                    kwh: 3600000,
                    ev: 1.602176634e-19,
                    btu: 1055.06
                },
                // Data (base: bytes)
                data: {
                    b: 1,
                    kb: 1024,
                    mb: 1048576,
                    gb: 1073741824,
                    tb: 1099511627776,
                    pb: 1125899906842624,
                    bit: 0.125,
                    kbit: 128,
                    mbit: 131072,
                    gbit: 134217728
                }
            };
            
            // Common conversions by type
            const commonConversionsByType = {
                length: [
                    { from: 'm', to: 'ft', value: 1 },
                    { from: 'km', to: 'mi', value: 1 },
                    { from: 'cm', to: 'in', value: 2.54 }
                ],
                weight: [
                    { from: 'kg', to: 'lb', value: 1 },
                    { from: 'g', to: 'oz', value: 28 },
                    { from: 'kg', to: 'st', value: 6.35 }
                ],
                temperature: [
                    { from: 'c', to: 'f', value: 0 },
                    { from: 'c', to: 'f', value: 20 },
                    { from: 'f', to: 'c', value: 32 }
                ],
                area: [
                    { from: 'm2', to: 'ft2', value: 1 },
                    { from: 'km2', to: 'mi2', value: 1 },
                    { from: 'ha', to: 'ac', value: 1 }
                ],
                volume: [
                    { from: 'L', to: 'gal', value: 1 },
                    { from: 'mL', to: 'fl_oz', value: 30 },
                    { from: 'L', to: 'pt', value: 1 }
                ],
                time: [
                    { from: 'h', to: 'min', value: 1 },
                    { from: 'd', to: 'h', value: 1 },
                    { from: 'wk', to: 'd', value: 1 }
                ],
                speed: [
                    { from: 'kph', to: 'mph', value: 100 },
                    { from: 'mps', to: 'kph', value: 1 },
                    { from: 'kn', to: 'mph', value: 1 }
                ],
                pressure: [
                    { from: 'kpa', to: 'psi', value: 100 },
                    { from: 'atm', to: 'bar', value: 1 },
                    { from: 'mmhg', to: 'kpa', value: 100 }
                ],
                energy: [
                    { from: 'j', to: 'cal', value: 1000 },
                    { from: 'kwh', to: 'j', value: 1 },
                    { from: 'kcal', to: 'j', value: 1 }
                ],
                data: [
                    { from: 'mb', to: 'kb', value: 1 },
                    { from: 'gb', to: 'mb', value: 1 },
                    { from: 'mb', to: 'bit', value: 8 }
                ]
            };
            
            // Conversion history
            let conversionHistory = JSON.parse(localStorage.getItem('unitConverterHistory')) || [];
            
            // Populate unit dropdowns based on selected conversion type
            function populateUnitDropdowns(type) {
                // Clear existing options
                inputUnit.innerHTML = '';
                outputUnit.innerHTML = '';
                
                // Add new options based on type
                units[type].forEach(unit => {
                    const inputOption = document.createElement('option');
                    inputOption.value = unit.value;
                    inputOption.textContent = unit.label;
                    inputUnit.appendChild(inputOption);
                    
                    const outputOption = document.createElement('option');
                    outputOption.value = unit.value;
                    outputOption.textContent = unit.label;
                    outputUnit.appendChild(outputOption);
                });
                
                // Set default selections (different units)
                if (units[type].length > 1) {
                    inputUnit.selectedIndex = 0;
                    outputUnit.selectedIndex = 1;
                }
                
                // Update formula display
                updateFormulaDisplay();
                
                // Update common conversions
                updateCommonConversions(type);
            }
            
            // Update formula display based on selected units
            function updateFormulaDisplay() {
                const type = conversionType.value;
                const fromUnit = inputUnit.value;
                const toUnit = outputUnit.value;
                
                if (fromUnit === toUnit) {
                    formulaDisplay.textContent = `1 ${getUnitLabel(fromUnit)} = 1 ${getUnitLabel(toUnit)}`;
                    formulaExplanation.textContent = 'No conversion needed for identical units.';
                    return;
                }
                
                // Special case for temperature
                if (type === 'temperature') {
                    updateTemperatureFormula(fromUnit, toUnit);
                    return;
                }
                
                // Calculate conversion factor
                const fromFactor = conversionFactors[type][fromUnit];
                const toFactor = conversionFactors[type][toUnit];
                const factor = fromFactor / toFactor;
                
                // Format the factor for display
                let formattedFactor;
                if (factor >= 1000 || factor < 0.001) {
                    formattedFactor = factor.toExponential(4);
                } else {
                    formattedFactor = factor.toPrecision(6);
                }
                
                // Update display
                formulaDisplay.textContent = `1 ${getUnitLabel(fromUnit)} = ${formattedFactor} ${getUnitLabel(toUnit)}`;
                
                // Update explanation
                if (factor > 1) {
                    formulaExplanation.textContent = `To convert from ${getUnitLabel(fromUnit)} to ${getUnitLabel(toUnit)}, multiply by ${formattedFactor}.`;
                } else {
                    formulaExplanation.textContent = `To convert from ${getUnitLabel(fromUnit)} to ${getUnitLabel(toUnit)}, divide by ${(1/factor).toPrecision(6)}.`;
                }
            }
            
            // Update temperature formula display
            function updateTemperatureFormula(fromUnit, toUnit) {
                let formula = '';
                let explanation = '';
                
                if (fromUnit === 'c' && toUnit === 'f') {
                    formula = '°C to °F: (°C × 9/5) + 32';
                    explanation = 'To convert from Celsius to Fahrenheit, multiply by 9/5 and add 32.';
                } else if (fromUnit === 'f' && toUnit === 'c') {
                    formula = '°F to °C: (°F - 32) × 5/9';
                    explanation = 'To convert from Fahrenheit to Celsius, subtract 32 and multiply by 5/9.';
                } else if (fromUnit === 'c' && toUnit === 'k') {
                    formula = '°C to K: °C + 273.15';
                    explanation = 'To convert from Celsius to Kelvin, add 273.15.';
                } else if (fromUnit === 'k' && toUnit === 'c') {
                    formula = 'K to °C: K - 273.15';
                    explanation = 'To convert from Kelvin to Celsius, subtract 273.15.';
                } else if (fromUnit === 'f' && toUnit === 'k') {
                    formula = '°F to K: (°F - 32) × 5/9 + 273.15';
                    explanation = 'To convert from Fahrenheit to Kelvin, subtract 32, multiply by 5/9, and add 273.15.';
                } else if (fromUnit === 'k' && toUnit === 'f') {
                    formula = 'K to °F: (K - 273.15) × 9/5 + 32';
                    explanation = 'To convert from Kelvin to Fahrenheit, subtract 273.15, multiply by 9/5, and add 32.';
                }
                
                formulaDisplay.textContent = formula;
                formulaExplanation.textContent = explanation;
            }
            
            // Get unit label from value
            function getUnitLabel(unitValue) {
                const type = conversionType.value;
                const unit = units[type].find(u => u.value === unitValue);
                return unit ? unit.value : unitValue;
            }
            
            // Update common conversions display
            function updateCommonConversions(type) {
                commonConversions.innerHTML = '';
                
                if (!commonConversionsByType[type]) return;
                
                commonConversionsByType[type].forEach(conv => {
                    const convDiv = document.createElement('div');
                    convDiv.className = 'p-2 bg-white rounded-md text-sm';
                    
                    // Convert the value
                    let result;
                    if (type === 'temperature') {
                        result = convertTemperature(conv.value, conv.from, conv.to);
                    } else {
                        const fromFactor = conversionFactors[type][conv.from];
                        const toFactor = conversionFactors[type][conv.to];
                        result = (conv.value * fromFactor) / toFactor;
                    }
                    
                    // Format the result
                    let formattedResult;
                    if (result >= 1000 || result < 0.001) {
                        formattedResult = result.toExponential(4);
                    } else {
                        formattedResult = result.toPrecision(6);
                    }
                    
                    // Get unit labels
                    const fromUnitLabel = units[type].find(u => u.value === conv.from)?.label || conv.from;
                    const toUnitLabel = units[type].find(u => u.value === conv.to)?.label || conv.to;
                    
                    convDiv.textContent = `${conv.value} ${conv.from} = ${formattedResult} ${conv.to}`;
                    
                    // Add click handler to set this conversion
                    convDiv.addEventListener('click', () => {
                        inputValue.value = conv.value;
                        inputUnit.value = conv.from;
                        outputUnit.value = conv.to;
                        convert();
                    });
                    
                    commonConversions.appendChild(convDiv);
                });
            }
            
            // Convert units
            function convert() {
                const type = conversionType.value;
                const fromUnit = inputUnit.value;
                const toUnit = outputUnit.value;
                const value = parseFloat(inputValue.value);
                
                if (isNaN(value)) {
                    outputValue.value = '';
                    return;
                }
                
                let result;
                
                // Special case for temperature
                if (type === 'temperature') {
                    result = convertTemperature(value, fromUnit, toUnit);
                } else {
                    // Standard conversion using factors
                    const fromFactor = conversionFactors[type][fromUnit];
                    const toFactor = conversionFactors[type][toUnit];
                    result = (value * fromFactor) / toFactor;
                }
                
                // Display result with appropriate precision
                if (Math.abs(result) >= 1e6 || Math.abs(result) < 0.001 && result !== 0) {
                    outputValue.value = result.toExponential(6);
                } else {
                    outputValue.value = result.toPrecision(10).replace(/\.?0+$/, '');
                }
                
                // Add to history
                addToHistory(value, result, fromUnit, toUnit, type);
            }
            
            // Convert temperature
            function convertTemperature(value, fromUnit, toUnit) {
                if (fromUnit === toUnit) return value;
                
                let celsius;
                
                // Convert to Celsius first
                if (fromUnit === 'c') {
                    celsius = value;
                } else if (fromUnit === 'f') {
                    celsius = (value - 32) * 5/9;
                } else if (fromUnit === 'k') {
                    celsius = value - 273.15;
                }
                
                // Convert from Celsius to target unit
                if (toUnit === 'c') {
                    return celsius;
                } else if (toUnit === 'f') {
                    return (celsius * 9/5) + 32;
                } else if (toUnit === 'k') {
                    return celsius + 273.15;
                }
            }
            
            // Add conversion to history
            function addToHistory(inputVal, outputVal, fromUnit, toUnit, type) {
                // Get unit labels
                const fromUnitLabel = units[type].find(u => u.value === fromUnit)?.label || fromUnit;
                const toUnitLabel = units[type].find(u => u.value === toUnit)?.label || toUnit;
                
                // Format values
                let formattedInput, formattedOutput;
                
                if (Math.abs(inputVal) >= 1e6 || Math.abs(inputVal) < 0.001 && inputVal !== 0) {
                    formattedInput = inputVal.toExponential(4);
                } else {
                    formattedInput = inputVal.toString();
                }
                
                if (Math.abs(outputVal) >= 1e6 || Math.abs(outputVal) < 0.001 && outputVal !== 0) {
                    formattedOutput = outputVal.toExponential(4);
                } else {
                    formattedOutput = outputVal.toPrecision(6).replace(/\.?0+$/, '');
                }
                
                // Create history entry
                const historyEntry = {
                    inputValue: formattedInput,
                    inputUnit: fromUnit,
                    outputValue: formattedOutput,
                    outputUnit: toUnit,
                    type: type,
                    timestamp: new Date().toISOString()
                };
                
                // Add to history array
                conversionHistory.unshift(historyEntry);
                
                // Limit history to 10 entries
                if (conversionHistory.length > 10) {
                    conversionHistory.pop();
                }
                
                // Save to localStorage
                localStorage.setItem('unitConverterHistory', JSON.stringify(conversionHistory));
                
                // Update history display
                updateHistoryTable();
            }
            
            // Update history table
            function updateHistoryTable() {
                historyTable.innerHTML = '';
                
                if (conversionHistory.length === 0) {
                    const row = document.createElement('tr');
                    row.className = 'text-gray-500 text-sm italic';
                    row.innerHTML = '<td colspan="4" class="px-6 py-4 text-center">No conversion history yet</td>';
                    historyTable.appendChild(row);
                    return;
                }
                
                conversionHistory.forEach(entry => {
                    const row = document.createElement('tr');
                    row.className = 'hover:bg-gray-50';
                    
                    // Format the timestamp
                    const date = new Date(entry.timestamp);
                    const formattedTime = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                    
                    // Get unit labels
                    const fromUnitLabel = units[entry.type].find(u => u.value === entry.inputUnit)?.value || entry.inputUnit;
                    const toUnitLabel = units[entry.type].find(u => u.value === entry.outputUnit)?.value || entry.outputUnit;
                    
                    // Create row content
                    row.innerHTML = `
                        <td class="px-6 py-4 whitespace-nowrap">${entry.inputValue} ${fromUnitLabel}</td>
                        <td class="px-6 py-4 whitespace-nowrap">${entry.outputValue} ${toUnitLabel}</td>
                        <td class="px-6 py-4 whitespace-nowrap capitalize">${entry.type}</td>
                        <td class="px-6 py-4 whitespace-nowrap">${formattedTime}</td>
                    `;
                    
                    // Add click handler to restore this conversion
                    row.addEventListener('click', () => {
                        conversionType.value = entry.type;
                        populateUnitDropdowns(entry.type);
                        inputUnit.value = entry.inputUnit;
                        outputUnit.value = entry.outputUnit;
                        inputValue.value = entry.inputValue;
                        convert();
                    });
                    
                    historyTable.appendChild(row);
                });
            }
            
            // Swap input and output units
            function swapUnits() {
                const tempUnit = inputUnit.value;
                inputUnit.value = outputUnit.value;
                outputUnit.value = tempUnit;
                
                // If there's a value, convert it
                if (inputValue.value) {
                    const tempValue = outputValue.value;
                    inputValue.value = tempValue;
                    convert();
                }
                
                // Update formula display
                updateFormulaDisplay();
            }
            
            // Clear history
            function clearHistory() {
                conversionHistory = [];
                localStorage.removeItem('unitConverterHistory');
                updateHistoryTable();
            }
            
            // Event listeners
            conversionType.addEventListener('change', () => {
                populateUnitDropdowns(conversionType.value);
            });
            
            inputUnit.addEventListener('change', updateFormulaDisplay);
            outputUnit.addEventListener('change', updateFormulaDisplay);
            
            convertBtn.addEventListener('click', convert);
            swapBtn.addEventListener('click', swapUnits);
            clearHistoryBtn.addEventListener('click', clearHistory);
            
            // Auto-convert when input changes
            inputValue.addEventListener('input', () => {
                if (inputValue.value) {
                    convert();
                } else {
                    outputValue.value = '';
                }
            });
            
            // Initialize
            populateUnitDropdowns(conversionType.value);
            updateHistoryTable();
        });
    </script>
</body>
</html>    
